<div fxLayout="row" fxLayoutWrap fxLayoutAlign="start stretch">
    <div *ngFor="let post of posts | async; let postIndex = index;">
        <div fxFlex.xs="100px" fxFlex.sm="150px" fxFlex.md="200px" fxFlex="250px" fxLayout="column" fxLayoutGap.xs="5px" fxLayoutGap="20px">

            <div class="post-wrapper">
                <div class="post-inside" *ngIf="post.postUploads.length > 0; else test" fxLayout="column">
                    <img [src]="post.postUploads[0]?.path" fxFlex.xs="100px" fxFlex.sm="150px" fxFlex.md="200px" fxFlex="250px">
                </div>
                <ng-template #test>
                    <div class="post-inside" fxLayout="column">
                        <div fxFlexAlign="center" fxFlex.xs="100px" fxFlex.sm="150px" fxFlex.md="200px" fxFlex="250px">
                            no image
                        </div>
                    </div>
                </ng-template>

                <div class="post-inside post-second">
                    <div fxLayout="row" fxLayoutAlign="start start">
                        <md-icon *ngIf="post.postUploads.length === 0; else photo;">check_box_outline_blank</md-icon>

                        <ng-template #photo>
                            <md-icon *ngIf="post.postUploads.length === 1; else multiPhoto;">photo</md-icon>
                        </ng-template>

                        <ng-template #multiPhoto>
                            <md-icon>photo_library</md-icon>
                        </ng-template>
                    </div>
                </div>

                <div class="post-inside post-third" fxFlexFill>
                    <div fxFlexFill fxLayout="row" fxLayoutAlign="center end">
                        <div class="post-third-text">{{post.customer.name}}</div>
                    </div>
                </div>

                <div class="post-inside post-front" (click)="openPost(post)" fxFlexFill>
                    <div class="post-front-text" fxFill fxLayout="row" fxLayoutAlign="center center">
                        <md-icon>favorite</md-icon> {{post.postEvaluations?.length}} &nbsp;
                        <md-icon>chat_bubble</md-icon> {{post.postComments?.length}}
                    </div>
                </div>

            </div>
            <div></div>
        </div>

    </div>
</div>



<!--<md-tab-group>
    <md-tab label="memos" [routerLink]="['/memos']"></md-tab>
    <md-tab label="posts" [routerLink]="['/posts']"></md-tab>
</md-tab-group>-->


<!--<md-card fxFlex.xs="100" fxFlex="200px" fxFlexOffset="10px">
            <md-card-header>
                <md-card-title>{{post.customer?.name}}</md-card-title>
                <md-card-subtitle>{{post.date | date }}</md-card-subtitle>
            </md-card-header>

            <md-card-content>

                <div *ngFor="let upload of post.postUploads; let uploadIndex = index;">
                    <div *ngIf="post.currentUploadIndex === uploadIndex">
                        <img [src]="upload.path" width="100%" height="150px">
                        <p>
                            {{upload.memo}}
                        </p>
                    </div>
                </div>

                <button md-button class="primary" *ngIf="post.postUploads.length > 1" (click)="previous(postIndex)"><</button>
                <button md-button class="primary" *ngIf="post.postUploads.length > 1" (click)="next(postIndex)">></button>

                <p>
                    {{post.memo}}
                </p>
            </md-card-content>
            <md-card-actions>
                <button md-button>LIKE</button>
                <button md-button>SHARE</button>
            </md-card-actions>
        </md-card>-->

<!--<p>
    posts works! {{currentPostCount | async}}
</p>

<div *ngFor="let post of posts | async">
    {{post | json}}
</div>
-->

<!---->
<!--fxFlexAlign="center"-->

<!--fxLayoutGap="10px"-->